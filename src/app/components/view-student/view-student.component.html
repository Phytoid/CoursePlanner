<div class="header">
    {{s.first}} {{s.last}}
    
    <div *ngIf="whosLoggedIn != 'Student'; else elseBlock">
        <button class="btn" id="home-btn" routerLink="../gpd">Home</button>
    </div>
    <ng-template #elseBlock>
        <button class="btn" id="home-btn" routerLink="../student">Home</button>
    </ng-template>
    
    
</div>

<div *ngIf="whosLoggedIn != 'Student'">
    <button class="btn btn-primary" id="deleteBtn" style="margin-right: 15px;" (click)="deleteStudent()">Delete</button>
</div>
<div class="float-container">
    <div class="float-child">
    <!-- <div style="margin: 0 auto; width: 20%; margin-top: 20px;"> -->
        <form (submit)="editStudent($event)" ngNativeValidate>
            <div class="form-group">
                <label for="first">First Name</label>
                <input id="first" type="text" class="form-control" required value="{{s.first}}"/>
            </div>
            <div class="form-group">
                <label for="last">Last Name</label>
                <input id="last" type="text" class="form-control" required value="{{s.last}}"/>
            </div>
            <div class="form-group">
                <label for="sbuID">SBUID</label>
                <input id="sbuID" type="text" class="form-control" required value="{{s.sbuID}}" disabled = true/>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input id="email" type="email" class="form-control" required value="{{s.email}}"/>
            </div>
            <div class="form-group" name="departmentForm">
                <label for="dept">Department</label>
                <!-- <input id="dept" type="text" class="form-control" required /> -->
                <select class="form-control" required >
                    <!-- <option value="" disabled selected>Select Department</option> -->
                    <option [ngValue]="dept">{{dept}}</option>
                </select>
            </div>
            <div class="form-group" id="track" name="trackForm" style="display:none;">
                <label for="track">Track</label>
                <select id="track" type="text" class="form-control">
                    <option disabled selected>{{s.track}}</option>
                    <option *ngFor="let track of tracks">
                        {{track}}
                    </option>
                </select>
            </div>
            <div class="form-group">
                <label for="entrySemester">Entry Semester</label>
                <select class="form-control" required value="{{s.entrySemester}}">
                    <option value="Spring">Spring</option>
                    <option value="Fall">Fall</option>
                </select>
            </div>
            <div>
                <label for="currentGradYear">Current Entry Year</label>
                <mat-card> {{s.entryYear}} </mat-card>
            </div>
            <div class="form-group">
                <label for="entryYear">Entry Year</label>
                <ngb-datepicker #dp [(ngModel)]="model" (navigate)="date = $event.next" name="year" [maxDate]="{year:2030, month: 1, day: 1}" [minDate]="{year:1985, month: 1, day: 1}" style="display:block"></ngb-datepicker>
            </div>
            <div class="form-group">
                <label for="reqSemester">Requirement Version Semester</label>
                <select class="form-control" required value="{{s.reqVersionSemester}}">
                    <option value="Spring">Spring</option>
                    <option value="Fall">Fall</option>
                </select>
            </div>
            <div>
                <label for="currentGradYear">Current Requirement Version Year</label>
                <mat-card> {{s.reqVersionYear}} </mat-card>
            </div>
            <div class="form-group">
                <label for="reqYear">Requirement Version Year</label>
                <ngb-datepicker #dp [(ngModel)]="model" (navigate)="date = $event.next" name="year" [maxDate]="{year:2030, month: 1, day: 1}" [minDate]="{year:1985, month: 1, day: 1}" style="display:block"></ngb-datepicker>
            </div>
            <div class="form-group">
                <label for="gradSemester">Graduation Semester</label>
                <select class="form-control" required value="{{s.gradSemester}}">
                    <option value="Spring">Spring</option>
                    <option value="Fall">Fall</option>
                </select>
            </div>
            <div>
                <label for="currentGradYear">Current Graduation Year</label>
                <mat-card> {{s.gradYear}} </mat-card>
            </div>
            <div class="form-group">
                <label for="gradYear">Graduation Year</label>
                <ngb-datepicker #dp [(ngModel)]="model" (navigate)="date = $event.next" name="year" [maxDate]="{year:2030, month: 1, day: 1}" [minDate]="{year:1985, month: 1, day: 1}" style="display:block"></ngb-datepicker>
            </div>
            <div class="form-group" >
                <label for="advisor">Advisor</label>
                <div *ngIf="whosLoggedIn != 'Student'">
                    <input id="advisor" type="text" class="form-control" value="{{s.advisor}}"/>
                </div>
                <div *ngIf="whosLoggedIn == 'Student'">
                    <input id="advisor" type="text" class="form-control" value="{{s.advisor}}" disabled=true/>
                </div>
            </div>
            <div>
                <label for="comment">Comments:</label>
                <!-- <mat-card *ngFor="let comment of s.comments" (dblclick)="deleteComment(event)">
                    {{comment}} 
                    <br>
                </mat-card> -->
                <div *ngIf="whosLoggedIn != 'Student'" >
                    <mat-card *ngFor="let comment of s.comments" (dblclick)="deleteComment(event)">{{comment}} <br>
                    </mat-card>
                </div>
                <div *ngIf="whosLoggedIn == 'Student'" >
                        <mat-card *ngFor="let comment of s.comments">{{comment}} <br>
                            <!-- <button id="deleteBtn" (click)="deleteComment(event)">Delete</button> -->
                        </mat-card>
                </div>
                
            </div>
            <br>
            <div class="form-group" *ngIf="whosLoggedIn != 'Student'">
                <div>
                    <label for="comment">Add Comments</label>
                    <input type="text" name="comments" id="comments" style="height: 125px;">
                </div>
            </div>
            
            <div>
                <button class="btn btn-primary" style="margin-right: 15px;">Confirm</button>
            </div>
            
        </form>
        <br>
        <br>
        <div *ngIf="whosLoggedIn != 'Student'">
            <button class="btn btn-primary" [routerLink]="['/search']" routerLinkActive="router-link-active" >Back</button>
        </div>
        <div *ngIf="whosLoggedIn == 'Student'">
            <button class="btn btn-primary" [routerLink]="['/student']" routerLinkActive="router-link-active" >Back</button>     
        </div>
    </div>
</div>

<div *ngIf= "dept == 'AMS'">
    <h3>Degree Requirements</h3>
    <p>Credits needed to graduate: {{ams.credits}}</p>
    <p>Final Recomendation</p>
    <p>Minimum GPA: {{ams.gpa}}</p>
    <p>Must graduate in {{ams.timeLimit}} years</p>
    <div *ngIf="track=='CAM'">
        <p>Required Courses: {{ams.requiredCoursesCAM}}</p>
        
    </div>
    <div *ngIf="track== 'CB'">
        <p>Required Courses: {{ams.requiredCoursesCB}}</p>
        <p>Number of elective courses needed: {{ams.numElectiveCoursesCB}}</p>
    </div>
    <div *ngIf="track=='OR'">
        <p>Required Courses: {{ams.requiredCoursesOR}}</p>
        <p>Number of statistic courses needed: {{ams.numStatisticCoursesOR}}</p>
    </div>
    <div *ngIf="track=='STAT'">
        <p>Required Courses: {{ams.requiredCoursesSTAT}}</p>
        <p>Number of elective courses needed: {{ams.numElectiveCoursesSTAT}}</p>
    </div>
    <div *ngIf="track=='QF'">
        <p>Required Courses: {{ams.requiredCoursesQF}}</p>
        <p>Number of elective courses needed: {{ams.numElectiveCoursesQF}}</p>
    </div>
</div>
<div *ngIf= "dept == 'BMI'">
    <h3>Degree Requirements</h3>
    <p>Credits needed to graduate: {{bmi.credits}}</p>
    <p>Minimum GPA: {{bmi.gpa}}</p>
    <p>Minimum Credits per semester: {{bmi.creditMinimumPerSemester}}</p>
    <p>Must graduate in {{bmi.timeLimit}} years</p>
    <p>Required Courses: {{requiredCourses}}</p>
    <p *ngIf=""></p>
</div>
<div *ngIf= "dept == 'CSE'">
    
</div>
<div *ngIf= "dept == 'ESE'">
    
</div>
